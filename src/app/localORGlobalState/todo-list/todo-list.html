<h2>Todo List</h2>

<!-- Toggle button -->
<button (click)="toggleExpand()">
  {{ (isExpanded$ | async) ? 'Collapse' : 'Expand' }}
</button>
<!-- List visible when expanded -->
<ul *ngIf="(isExpanded$ | async)">
  <li *ngFor="let todo of (todos$ | async)">
    <input
      type="checkbox"
      [checked]="todo.done"
      (change)="toggleTodo(todo.id)"
    />
    {{ todo.title }}
    <button (click)="selectTodo(todo)">Select</button>
  </li>
</ul>

<!-- Selected Todo -->
<div *ngIf="(select('selectedTodo') | async) as selected">
  <p><strong>Selected Todo:</strong> {{ selected.title }}</p>
</div>
